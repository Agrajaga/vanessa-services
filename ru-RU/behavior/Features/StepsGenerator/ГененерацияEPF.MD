[Ссылка на исходную фичу <Док-ГененерацияEPF.feature>](https://github.com/silverbulleters/vanessa-behavior/tree/develop/features/StepsGenerator/Док-ГененерацияEPF.feature "Оригинальная фича")

**Видео:**

<a href="http://www.youtube.com/watch?feature=player_embedded&v=xjXfErDV53g " target="_blank"><img src="http://img.youtube.com/vi/xjXfErDV53g/0.jpg" alt="IMAGE ALT TEXT HERE" width="240" height="180" border="10" /></a>

**Функционал:** Инструкция по генерации EPF файла

> **Как** Разработчик

> **Я хочу** чтобы я мог создавать по feature файлам EPF файлы

> **Чтобы** я мог потом в этих EPF файлах реализовать нужные мне шаги


**Сценарий:** Генерация нового EPF по feature файлу и перегенерация после добавления новых шагов

	001. Когда Я нажимаю на кнопку Загрузить одну фичу
<img src=Pict/ГененерацияEPF/ГененерацияEPF_1_Генерация_нового_EPF_по_featur_001.png>

	002. Тогда в открывшемся окне я указываю путь к фиче "Support\Instructions\Core\ДляГенерацииEPF.feature"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_2_Генерация_нового_EPF_по_featur_002.png>

	003. И     В открытой форме я перехожу к закладке "Генератор EPF"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_3_Генерация_нового_EPF_по_featur_003.png>

	004. И     В открытой форме я изменяю флаг "Генерировать управляемую форму"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_4_Генерация_нового_EPF_по_featur_004.png>

	005. И     В открытой форме я изменяю флаг "Создавать области при генерации кода"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_5_Генерация_нового_EPF_по_featur_005.png>

	006. И     В открытой форме я нажимаю на кнопку "Создать и обновить шаблоны обработок"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_6_Генерация_нового_EPF_по_featur_006.png>

	007. И     В каталоге появилась обработка "Support\Instructions\Core\step_definitions\ДляГенерацииEPF.epf"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_7_Генерация_нового_EPF_по_featur_007.png>

	008. Тогда я запускаю конфигуратор служебной базы
<img src=Pict/ГененерацияEPF/ГененерацияEPF_8_Генерация_нового_EPF_по_featur_008.png>

	009. И я открываю в конфигураторе файл "Support\Instructions\Core\step_definitions\ДляГенерацииEPF.epf"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_9_Генерация_нового_EPF_по_featur_009.png>

	010. И я открываю основную форму обработки
<img src=Pict/ГененерацияEPF/ГененерацияEPF_10_Генерация_нового_EPF_по_featur_010.png>

	011. И я перехожу на закладку Модуль
<img src=Pict/ГененерацияEPF/ГененерацияEPF_11_Генерация_нового_EPF_по_featur_011.png>

	012. И я сворачиваю область Служебные функции
<img src=Pict/ГененерацияEPF/ГененерацияEPF_12_Генерация_нового_EPF_по_featur_012.png>

	013. И обратите внимание "Обратите внимание: для каждого из трёх шагов сценария было создано по одной процедуре."
<img src=Pict/ГененерацияEPF/ГененерацияEPF_13_Генерация_нового_EPF_по_featur_013.png>

	014. И я перехожу к процедуре "ЯУказалПервоеСлагаемое"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_14_Генерация_нового_EPF_по_featur_014.png>

	015. И я выделяю в тексте 9 строк
<img src=Pict/ГененерацияEPF/ГененерацияEPF_15_Генерация_нового_EPF_по_featur_015.png>

	016. И обратите внимание 'Теперь изменим фича файл и пересоздадим EPF'
<img src=Pict/ГененерацияEPF/ГененерацияEPF_16_Генерация_нового_EPF_по_featur_016.png>

	017. И я перехожу в сеанс 1С TestClient
<img src=Pict/ГененерацияEPF/ГененерацияEPF_17_Генерация_нового_EPF_по_featur_017.png>

	018. И я открываю feature файл в редакторе
<img src=Pict/ГененерацияEPF/ГененерацияEPF_18_Генерация_нового_EPF_по_featur_018.png>

	019. И я удаляю строку которая содержит текст "Тогда я получу сумму 15"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_19_Генерация_нового_EPF_по_featur_019.png>

	020. И я добавляю строку текста "	Тогда сумма будет меньше 20"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_20_Генерация_нового_EPF_по_featur_020.png>

	021. И я сохраняю изменения в файле
<img src=Pict/ГененерацияEPF/ГененерацияEPF_21_Генерация_нового_EPF_по_featur_021.png>

	022. и я закрываю текстовый редактор
<img src=Pict/ГененерацияEPF/ГененерацияEPF_22_Генерация_нового_EPF_по_featur_022.png>

	023. И     Я нажимаю на кнопку Перезагрузить Сценарии
<img src=Pict/ГененерацияEPF/ГененерацияEPF_23_Генерация_нового_EPF_по_featur_023.png>

	024. И     Я очищаю окно сообщений пользователю
<img src=Pict/ГененерацияEPF/ГененерацияEPF_24_Генерация_нового_EPF_по_featur_024.png>

	025. И     В открытой форме я перехожу к закладке "Генератор EPF"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_25_Генерация_нового_EPF_по_featur_025.png>

	026. И     В открытой форме я нажимаю на кнопку "Создать и обновить шаблоны обработок"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_26_Генерация_нового_EPF_по_featur_026.png>

	027. И     Я жду окончания обработки перегенерации EPF
<img src=Pict/ГененерацияEPF/ГененерацияEPF_27_Генерация_нового_EPF_по_featur_027.png>

	028. И я перехожу в конфигуратор служебной базы
<img src=Pict/ГененерацияEPF/ГененерацияEPF_28_Генерация_нового_EPF_по_featur_028.png>

	029. И обратите внимание "Обратите внимание: чтобы увидеть изменения в epf надо переоткрыть файл обработки."
<img src=Pict/ГененерацияEPF/ГененерацияEPF_29_Генерация_нового_EPF_по_featur_029.png>

	030. И я закрываю обработку открытую в конфигураторе
<img src=Pict/ГененерацияEPF/ГененерацияEPF_30_Генерация_нового_EPF_по_featur_030.png>

	031. И я открываю в конфигураторе файл "Support\Instructions\Core\step_definitions\ДляГенерацииEPF.epf"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_31_Генерация_нового_EPF_по_featur_031.png>

	032. И я открываю основную форму обработки
<img src=Pict/ГененерацияEPF/ГененерацияEPF_32_Генерация_нового_EPF_по_featur_032.png>

	033. И я перехожу на закладку Модуль
<img src=Pict/ГененерацияEPF/ГененерацияEPF_33_Генерация_нового_EPF_по_featur_033.png>

	034. И я сворачиваю область Служебные функции
<img src=Pict/ГененерацияEPF/ГененерацияEPF_34_Генерация_нового_EPF_по_featur_034.png>

	035. И обратите внимание 'Обратите внимание: процедура "ТогдаЯПолучуСумму(Парам01)" осталась в модуле.'
<img src=Pict/ГененерацияEPF/ГененерацияEPF_35_Генерация_нового_EPF_по_featur_035.png>

	036. И обратите внимание 'И появилась новая процедура "ТогдаСуммаБудетМеньше(Парам01)"'
<img src=Pict/ГененерацияEPF/ГененерацияEPF_36_Генерация_нового_EPF_по_featur_036.png>

	037. И я перехожу к процедуре "СуммаБудетМеньше"
<img src=Pict/ГененерацияEPF/ГененерацияEPF_37_Генерация_нового_EPF_по_featur_037.png>

	038. И обратите внимание 'Таким образом добавление шага в feature файл вызвало добавление процедуры в epf файл.'
<img src=Pict/ГененерацияEPF/ГененерацияEPF_38_Генерация_нового_EPF_по_featur_038.png>

	039. И я закрываю конфигуратор служебной базы
<img src=Pict/ГененерацияEPF/ГененерацияEPF_39_Генерация_нового_EPF_по_featur_039.png>
