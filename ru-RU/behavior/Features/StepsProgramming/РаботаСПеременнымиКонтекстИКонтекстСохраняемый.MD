[Ссылка на исходную фичу <Док-РаботаСПеременнымиКонтекстИКонтекстСохраняемый.feature>](https://github.com/silverbulleters/vanessa-behavior/tree/develop/features/StepsProgramming/Док-РаботаСПеременнымиКонтекстИКонтекстСохраняемый.feature "Оригинальная фича")

**Видео:**

<a href="http://www.youtube.com/watch?feature=player_embedded&v=ZV0fSFIOy1Y " target="_blank"><img src="http://img.youtube.com/vi/ZV0fSFIOy1Y/0.jpg" alt="IMAGE ALT TEXT HERE" width="240" height="180" border="10" /></a>

**Функционал:** Инструкция по работе с переменными Контекст и КонтекстСохраняемый

> **Как** Разработчик

> **Я хочу** чтобы я мог сохранять значения для передачи контекста между шагами

> **Чтобы** я мог знать состояние предыдущих шагов


**Сценарий:** Работа с переменной "Контекст"

	001. Когда Я нажимаю на кнопку Загрузить одну фичу
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_1_Работа_с_переменной_Контекст_001.png>

	002. Тогда в открывшемся окне я указываю путь к фиче "Support\Instructions\Core\ДляРаботыСПеременнымиКонтекст.feature"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_2_Работа_с_переменной_Контекст_002.png>

	003. И я перехожу к закладке "Генератор EPF"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_3_Работа_с_переменной_Контекст_003.png>

	004. И я изменяю флаг "Генерировать управляемую форму"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_4_Работа_с_переменной_Контекст_004.png>

	005. И я изменяю флаг "Создавать области при генерации кода"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_5_Работа_с_переменной_Контекст_005.png>

	006. И я нажимаю на кнопку "Создать и обновить шаблоны обработок"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_6_Работа_с_переменной_Контекст_006.png>

	007. И В каталоге появилась обработка "Support\Instructions\Core\step_definitions\ДляРаботыСПеременнымиКонтекст.epf"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_7_Работа_с_переменной_Контекст_007.png>

	008. Тогда я запускаю конфигуратор служебной базы
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_8_Работа_с_переменной_Контекст_008.png>

	009. И я открываю в конфигураторе файл "Support\Instructions\Core\step_definitions\ДляРаботыСПеременнымиКонтекст.epf"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_9_Работа_с_переменной_Контекст_009.png>

	010. И я открываю основную форму обработки
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_10_Работа_с_переменной_Контекст_010.png>

	011. И я перехожу на закладку Модуль
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_11_Работа_с_переменной_Контекст_011.png>

	012. И я сворачиваю область Служебные функции
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_12_Работа_с_переменной_Контекст_012.png>

	013. И я заменяю строку "ВызватьИсключение" на "//ВызватьИсключение"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_13_Работа_с_переменной_Контекст_013.png>

	014. И я перехожу внутрь процедуры "ЯУказалПервоеСлагаемое"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_14_Работа_с_переменной_Контекст_014.png>

	015. И я добавляю строку 'Контекст.Вставить("ПервоеСлагаемое",Парам01);'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_15_Работа_с_переменной_Контекст_015.png>

	016. И я добавляю строку 'КонтекстСохраняемый.Вставить("ПервоеСлагаемое",Парам01);'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_16_Работа_с_переменной_Контекст_016.png>

	017. И я перехожу внутрь процедуры "ЯУказалВтороеСлагаемое"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_17_Работа_с_переменной_Контекст_017.png>

	018. И я добавляю строку 'Контекст.Вставить("ВтороеСлагаемое",Парам01);'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_18_Работа_с_переменной_Контекст_018.png>

	019. И я добавляю строку 'КонтекстСохраняемый.Вставить("ВтороеСлагаемое",Парам01);'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_19_Работа_с_переменной_Контекст_019.png>

	020. И я перехожу внутрь процедуры "ЯПолучуСумму"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_20_Работа_с_переменной_Контекст_020.png>

	021. И я добавляю строку 'Сумма = Контекст.ПервоеСлагаемое + Контекст.ВтороеСлагаемое;'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_21_Работа_с_переменной_Контекст_021.png>

	022. И я добавляю строку 'Если Сумма <> Парам01 Тогда'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_22_Работа_с_переменной_Контекст_022.png>

	023. И я добавляю строку 'ВызватьИсключение "Ошибка. Ожидали сумму = " + Парам01 + ", а получили " + Сумма;'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_23_Работа_с_переменной_Контекст_023.png>

	024. И я добавляю строку 'КонецЕсли;'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_24_Работа_с_переменной_Контекст_024.png>

	025. И я перехожу внутрь процедуры "ЯВывожуНаЭкранЗначениеСтруктуры"
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_25_Работа_с_переменной_Контекст_025.png>

	026. И я добавляю строку 'Ванесса.ВывестиНаЭкранЗначениеСтруктуры(Вычислить(Парам01));'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_26_Работа_с_переменной_Контекст_026.png>

	027. И я сохраняю изменения в файле
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_27_Работа_с_переменной_Контекст_027.png>

	028. И я перехожу в сеанс 1С TestClient
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_28_Работа_с_переменной_Контекст_028.png>

	029. И Я нажимаю на кнопку Перезагрузить Сценарии
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_29_Работа_с_переменной_Контекст_029.png>

	030. И Пауза 3
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_30_Работа_с_переменной_Контекст_030.png>

	031. И Я нажимаю на кнопку Выполнить Сценарии
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_31_Работа_с_переменной_Контекст_031.png>

	032. И пауза 4
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_32_Работа_с_переменной_Контекст_032.png>

	033. И обратите внимание 'Обратите внимание, что во втором сценарии содержимое переменной Контекст стало пустым'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_33_Работа_с_переменной_Контекст_033.png>

	034. И обратите внимание 'А содержимое переменной КонтекстСохраняемый осталось прежним'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_34_Работа_с_переменной_Контекст_034.png>

	035. И обратите внимание 'Итого. Переменная Контекст очищается перед выполнением каждого сценария.'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_35_Работа_с_переменной_Контекст_035.png>

	036. И обратите внимание 'А КонтекстСохраняемый существует, пока открыта форма Vanessa-Behavior.'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_36_Работа_с_переменной_Контекст_036.png>

	037. И обратите внимание 'Спасибо за внимание!'
<img src=Pict/РаботаСПеременнымиКонтекстИКонтекстСохраняемый/РаботаСПеременнымиКонтекстИКонтекстСохраняемый_37_Работа_с_переменной_Контекст_037.png>
