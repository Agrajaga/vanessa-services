[Ссылка на исходную фичу <Док-ПроверитьЕстьЛиОкноСОшибкой.feature>](https://github.com/silverbulleters/vanessa-behavior/tree/develop/features/StepsProgramming/Док-ПроверитьЕстьЛиОкноСОшибкой.feature "Оригинальная фича")

**Видео:**

<a href="http://www.youtube.com/watch?feature=player_embedded&v=98HmdEWd6CI " target="_blank"><img src="http://img.youtube.com/vi/98HmdEWd6CI/0.jpg" alt="IMAGE ALT TEXT HERE" width="240" height="180" border="10" /></a>

**Функционал:** Инструкция по проверке: появилось ли ошибка в TestClient

> **Как** Разработчик

> **Я хочу** чтобы я мог получить текст ошибки которая возникла в TestClient

> **Чтобы** я мог использовать текст ошибки в шагах сценария


**Сценарий:** Получение текста ошибки, возникшей в TestClient

	001. Когда я открываю текстовый редактор
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_1_Получение_текста_ошибки,_возни_001.png>

	002. И в текстовом редакторе я выбираю подсветку языка Gherkin
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_2_Получение_текста_ошибки,_возни_002.png>

	003. И я пишу "Функционал: Фича которая вызывает ошибку "
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_3_Получение_текста_ошибки,_возни_003.png>

	004. И я пишу "Как Разработчик "
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_4_Получение_текста_ошибки,_возни_004.png>

	005. И я пишу "Я хочу чтобы у меня была фича вызывающая ошибку "
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_5_Получение_текста_ошибки,_возни_005.png>

	006. И я пишу "Чтобы я мог выполнить тестовый пример "
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_6_Получение_текста_ошибки,_возни_006.png>

	007. И я добавляю пустую строку
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_7_Получение_текста_ошибки,_возни_007.png>

	008. И я пишу "Контекст: "
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_8_Получение_текста_ошибки,_возни_008.png>

	009. И я пишу "	Дано Я запускаю сценарий открытия TestClient или подключаю уже существующий "
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_9_Получение_текста_ошибки,_возни_009.png>

	010. И я пишу 'И я прижимаю активное окно вправо '
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_10_Получение_текста_ошибки,_возни_010.png>

	011. И я перехожу к началу строчки
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_11_Получение_текста_ошибки,_возни_011.png>

	012. И я добавляю пустую строку
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_12_Получение_текста_ошибки,_возни_012.png>

	013. И я пишу 'Сценарий: Сценарий с ошибкой '
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_13_Получение_текста_ошибки,_возни_013.png>

	014. И я пишу '	Когда я выполняю в TestClient произвольное выражение "а=1/0" '
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_14_Получение_текста_ошибки,_возни_014.png>

	015. И я пишу 'Тогда в TestClient возникнет ошибка деления на ноль '
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_15_Получение_текста_ошибки,_возни_015.png>

	016. И я сохраняю файл открытый в редакторе как "Support\Instructions\Temp\ФичаВызывающаяОшибку.feature"
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_16_Получение_текста_ошибки,_возни_016.png>

	017. И я закрываю текстовый редактор
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_17_Получение_текста_ошибки,_возни_017.png>

	018. Когда Я запускаю сеанс TestManager в служебной базе
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_18_Получение_текста_ошибки,_возни_018.png>

	019. И Пауза 5
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_19_Получение_текста_ошибки,_возни_019.png>

	020. И я разворачиваю активное окно на полный экран
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_20_Получение_текста_ошибки,_возни_020.png>

	021. Когда Я нажимаю на кнопку диалога выбора файлов
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_21_Получение_текста_ошибки,_возни_021.png>

	022. И в открывшемся окне я указываю путь к обработке Vanessa-behavior.epf
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_22_Получение_текста_ошибки,_возни_022.png>

	023. Когда Я нажимаю на кнопку Загрузить одну фичу
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_23_Получение_текста_ошибки,_возни_023.png>

	024. Тогда в открывшемся окне я указываю путь к фиче   'Support\Instructions\Temp\ФичаВызывающаяОшибку.feature'  
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_24_Получение_текста_ошибки,_возни_024.png>

	025. Когда я перехожу к закладке Генератор EPF
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_25_Получение_текста_ошибки,_возни_025.png>

	026. И я изменяю флаг Генерировать управляемую форму
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_26_Получение_текста_ошибки,_возни_026.png>

	027. И я изменяю флаг Создавать области при генерации кода
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_27_Получение_текста_ошибки,_возни_027.png>

	028. И я нажимаю на кнопку Создать и обновить шаблоны обработок
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_28_Получение_текста_ошибки,_возни_028.png>

	029. И В каталоге появилась обработка "Support\Instructions\Temp\step_definitions\ФичаВызывающаяОшибку.epf"
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_29_Получение_текста_ошибки,_возни_029.png>

	030. Тогда я запускаю конфигуратор служебной базы
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_30_Получение_текста_ошибки,_возни_030.png>

	031. Когда я в диалоге открытия файлов конфигуратора указываю   'Support\Instructions\Temp\step_definitions\ФичаВызывающаяОшибку.epf'  
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_31_Получение_текста_ошибки,_возни_031.png>

	032. И я открываю основную форму обработки
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_32_Получение_текста_ошибки,_возни_032.png>

	033. И я перехожу на закладку Модуль
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_33_Получение_текста_ошибки,_возни_033.png>

	034. И я сворачиваю область Служебные функции
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_34_Получение_текста_ошибки,_возни_034.png>

	035. И я заменяю строку   "ВызватьИсключение"   на   "//ВызватьИсключение"  
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_35_Получение_текста_ошибки,_возни_035.png>

	036. И я перехожу внутрь процедуры "ЯВыполняюВTestClientПроизвольноеВыражение"
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_36_Получение_текста_ошибки,_возни_036.png>

	037. И я добавляю строку 'Ванесса.Шаг("Когда В панели разделов я выбираю ""Основная""");'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_37_Получение_текста_ошибки,_возни_037.png>

	038. И я добавляю строку 'Ванесса.Шаг("И В панели функций я выбираю ""Выполнить произвольное выражение""");'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_38_Получение_текста_ошибки,_возни_038.png>

	039. И я добавляю строку 'Ванесса.Шаг("И в поле ""Текст выражения"" я ввожу текст """ + Парам01 + """");'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_39_Получение_текста_ошибки,_возни_039.png>

	040. И я добавляю строку 'Ванесса.Шаг("И я нажимаю на кнопку ""Выполнить выражение""");'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_40_Получение_текста_ошибки,_возни_040.png>

	041. И я перехожу внутрь процедуры "ВTestClientВозникнетОшибка"
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_41_Получение_текста_ошибки,_возни_041.png>

	042. И я добавляю строку 'СтрокаОшибки = КонтекстСохраняемый.ТестовоеПриложение.ПолучитьТекущуюИнформациюОбОшибке();'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_42_Получение_текста_ошибки,_возни_042.png>

	043. И обратите внимание 'Значение КонтекстСохраняемый.ТестовоеПриложение служит для работы с TestClient'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_43_Получение_текста_ошибки,_возни_043.png>

	044. И я добавляю строку 'Если СтрокаОшибки.Описание <> "Деление на 0" Тогда'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_44_Получение_текста_ошибки,_возни_044.png>

	045. И я добавляю строку 'ВызватьИсключение "Ожидали получить сообщение об ошибке деления на ноль!";'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_45_Получение_текста_ошибки,_возни_045.png>

	046. И я добавляю строку 'КонецЕсли;'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_46_Получение_текста_ошибки,_возни_046.png>

	047. И я добавляю строку 'Ванесса.Sleep(10);'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_47_Получение_текста_ошибки,_возни_047.png>

	048. И я добавляю строку 'Ванесса.Шаг("И Я закрыл все окна клиентского приложения");'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_48_Получение_текста_ошибки,_возни_048.png>

	049. И обратите внимание 'Этот вызов нужен чтобы закрыть модальное окно с ошибкой в TestClient'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_49_Получение_текста_ошибки,_возни_049.png>

	050. И я сохраняю изменения в файле
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_50_Получение_текста_ошибки,_возни_050.png>

	051. И я закрываю конфигуратор служебной базы
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_51_Получение_текста_ошибки,_возни_051.png>

	052. И я прижимаю активное окно влево
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_52_Получение_текста_ошибки,_возни_052.png>

	053. И Я нажимаю на кнопку Перезагрузить сценарии
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_53_Получение_текста_ошибки,_возни_053.png>

	054. И Я нажимаю на кнопку Выполнить Сценарии
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_54_Получение_текста_ошибки,_возни_054.png>

	055. И я ожидаю окончания выполнения сценариев в сеансе служебной базы
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_55_Получение_текста_ошибки,_возни_055.png>

	056. И обратите внимание 'Спасибо за внимание!'
<img src=Pict/ПроверитьЕстьЛиОкноСОшибкой/ПроверитьЕстьЛиОкноСОшибкой_56_Получение_текста_ошибки,_возни_056.png>
